여러 개의 스레드가 돌아가는데 공유하는 자원이 있을 경우
여러가지 문제가 발생하는데 그걸 막기 위한 방법이다.

# 문제
만약에 int a= 0라는 변수를 여러 스레드가 공유하고 있고 각 스레드가 a+=1을 한다면
A스레드와 B스레드의 경우로 나눠서 설명하겠습니다.
a+=1의 코드는 3가지 단계로 나뉘어 집니다.
1. 변수 a로부터 값을 가져와 레지스터에 넣습니다.
2. 레지스터에 1을 더합니다.
3. 레지스터의 값을 a에 넣습니다.
A스레드가 변수 a로부터 값(0)을 가져와 레지스터에 넣고
B스레드도 변수 a로부터 값(0)을 가져와 레지스터에 넣고
A스레드가 레지스터(0)에 1을 더합니다.
B스레드도 레지스터(0)에 1을 더합니다.
A스레드가 레지스터의 값(1)을 a에 넣습니다.
B스레드가 레지스터의 값(1)을 a에 넣습니다.
따라서 a에는 1의 값이 저장됩니다.
A스레드와 B스레드가 돌아갔지만 A 스레드의 연산값이 무시되었습니다.




# 임계구역
공유하는 자원을 사용하여 다른 스레드와 동시에 사용할 경우 문제가 발생할 수 있는 부분을 말한다.

[[원자성 어셈블리 코드]]를 통해 모든 스레드 중 한 스레드만 임계구역에 들어올 수 있도록 막는다.

# 상호배제
임계 구역 내에는 한 번에 하나의 프로세스만 있어야 한다. 이를 위해
[[뮤텍스]], [[스핀락]], [[세마포어]]가 존재한다.

# [[뮤텍스]]

# [[스핀락]]

