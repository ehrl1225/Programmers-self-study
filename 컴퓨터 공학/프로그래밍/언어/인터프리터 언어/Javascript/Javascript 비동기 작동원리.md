
# [[Javascript]] 런타임 환경
브라우저의 내부 구성도는 
- 자바스크립트 엔진
- Web API
- 이벤트 루프
- 태스크 큐
가 있다.

# 콜 스택
자바스크립트 엔진 내부에 존재한다.
함수 호출과 관련된 정보를 관리하는 스택이다.
함수가 호출되는 순서대로 쌓이고
종료되는 순서대로 꺼낸다.

스택이 하나이기에 다른 일을 동시에 할 수 없다.


# Web API
자바스크립트가 실행되는 런타임 환경에 존재하는 별도의 API
브라우저 내에서 멀티 스레드로 동작
비동기 동작을 수행하기 때문에 메인 스레드가 멈추는 것을 방지
DOM, AJAX, Fetch, Timer, Promise, 이벤트 핸들러, 웹 워커 등으로 구성된다.

# 태스크 큐
비동기 작업이 완료되면 실행되는 함수들이 대기하는 공간

## 마이크로태스크 큐
우선순위가 높은 비동기 작업의 콜백을 담당한다.

## 매크로태스크 큐
일반적인 비동기 작업할 때 사용한다.

# 이벤트 루프
콜 스택과 태스크 큐를 모니터링하는 감시자다.

콜 스택이 비어있고
태스크 큐에 작업이 있다는 것을 감지하고
자바스크립트 엔진에게 알린다.
자바스크립트 엔진이 태스크 큐에서 가장 오래된 콜백 함수를 콜 스택으로 이동한다.

마이크로 태스크 큐의 모든 작업을 먼저 처리한 후
매크로 태스크 큐에서는 한번에 하나의 작업을 처리하고
반복한다.
